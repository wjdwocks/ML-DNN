### 해야 할 일 (VQShape)
1. GENE_Activ에서 Sub-Action을 추출하는 것에 대해서 퀄리티 체크
    - Prompt를 어떻게 설정해야 할 지
    - 출력 형태는 어때야 할 지
    - Dataset Description은 어떻게 해야 할 지.
2. Text Label을 이용한 Reconstruction Loss **
    - LLM을 이용해서 Text Label에 대해서 Sub-Actions들을 추출한 것을 이미 가지고 있을 것임(실제로 사용할 때에는)
    - 그렇게 얻어진 Sub-Actions를 LLM Encoder/Tokenizer를 이용해서 Embedding Vector들로 변환함.
    - 그럼 LSA에 의해 각 Token들이 어떻게 변화는 하고, 그것들이 Action Codebook Set과 비교해서 하나씩 맞아져 갈 것임.
    - 1._이것들을 모든 Token의 매핑된 Action Code 에 대해서 다시 Token끼리 합쳐서 Projection Layer에 넣은 후 원본 Label을 맞추도록 해서 Reconstruction Loss를 구성한다?
    - 2._매핑되기 전에 Token상태에서 바로 Token끼리 합쳐서 Projection Layer에 넣은 후 원본 Label을 맞추게 하는 Reconstruction Loss를 구성?
3. LSA Paper를 보며 각 출력된 Sub-Actions들의 가치를 정성적/정량적 으로 평가
    - 어떻게 평가할 수 있는가?
    - 어떤 Text가 잘 뽑힌 것인가?
    - 그런걸 평가하는 Metric 같은게 있는가?
4. Gene Activ만 해도 3Channel Signal Dataset인데, 각 Channel마다 Shape의 형태가 의미하는게 다를텐데, 어떻게 해야할지?
    - Codebook은 공통으로 구성하고, Channel마다 각 Code를 끌고와서 (code1, code3, code7)로 집합을 만들고, 그 때 그 조합이 어떤 Sub-Action과 매칭되는지를 본다? 
5. 코드를 일단은 작성을 시작해야 함.
    - VQShape을 기반으로, Framework대로 코드를 구성해가봄.
    - 일단 GENE_Activ 14class같은거로 Codebook Pretrain을 해보고, 그 뒤에 Text Guidance부분을 붙여나가보자.

## Multi-Modal VQShape 할 거
### Data Description에 대해서 내가 잘 알아야 함.
- GENEActiv 원본 논문을 보고, 데이터에 대해서 잘 알아보자.
- 어떻게 Data Description에 대해서 Prompt를 넣어줄 지 생각해봄.
- 여러 가지 Prompt를 작성해서 직접 Sub-Actions 뭉치를 추출해봄.
- 각 추출된 Sub-Actions들을 정량적으로 평가하는 방법에 대해 생각해보자.

### A Statistical Estimation Framework for Energy Expenditure of Physical Activities from a Wrist-worn Accelerometer 논문의 데이터 수집과정이나 특징 이런거만..
- Data collection (논문에서 써있던 내용들)
    - A total of 73 male and 79 female adults, age 18-64 years old.
    - participants were recruited via fliers, emails, and social networks.
    - The physical measurements of the participants were - age : 34.6+-0.8years, BMI : 27.9 +- 4.9, height : 170.3 +- 8.8cm, weight : 81.0 +- 17.3kg
    - They wear confortable clothing and were fitted with a GENE-Activ sensor on their non-dominant wrist
    - GENEAcitv is lightweight, waterproof, wrist-worn sensor that is essentially a tri-axial accelerometer and provide raw acceleration data.
    - The acceleration signals were first trimmed to remove the resting periods at the beginning and the end of each activity, then smoothed with a 50ms moving average filter, and finally divided into 10-second non-overlapping windows(1000 samples per window). total number of suth activity windows was 16292.

### 실제 프롬프트 어떻게 할 것인지
- 일단 아레 프롬프트를 GPT한테 추천받음.
- 너무 긴 것 같긴 함.
```python
You are an expert in wearable-sensor-based human activity recognition.

Your task:
Generate 5 sequential Sub-Actions (Phase 1 → Phase 5) for each activity.

For each Sub-Action, output:
- Arm: 2–3 word wrist/forearm motion (e.g., "swing forward", "lift wrist", "rotate inward")
- Leg: 2–3 word lower-body motion (e.g., "step forward", "lift foot", "bend knee")

Strict rules:
1. NO abstract or descriptive phrases (e.g., "through the air", "for balance", "in place", "for stability").
2. Only concrete, physical motions measurable by sensors.
3. No long sentences, no adverbs, no purpose clauses.
4. Only simple verb+noun style phrases (2–3 words).
5. Arm and Leg must be separate fields.
6. Must reflect wrist-worn accelerometer perspective for Arm.

Output Format:
{
  "activities": [
    {
      "action_label": "...",
      "sub_actions": [
        {"Arm": "...", "Leg": "..."},
        {"Arm": "...", "Leg": "..."},
        {"Arm": "...", "Leg": "..."},
        {"Arm": "...", "Leg": "..."},
        {"Arm": "...", "Leg": "..."}
      ]
    }
  ]
}

Activity List:
1. Treadmill 1mph (0% grade)
2. Treadmill 3mph (0% grade)
3. Treadmill 3mph (5% grade)
4. Treadmill 4mph (0% grade)
5. Treadmill 6mph (0% grade)
6. Treadmill 6mph (5% grade)
7. Seated-fold/stack laundry
8. Stand-fidget with hands
9. 1 min brush teeth/hair
10. Drive car
11. Hard surface walk
12. Carpet with high heels/dress shoes
13. Walk up-stairs 5 floors
14. Walk down-stairs 5 floors

```
- 아레와 같이 나오는데, 얘가 알아서 비슷한 것 끼리도 살짝은 다르게 해주긴 함.
- 근데 이건 너무 길어서 각각을 좀 더 짧게 할 필요가 있음. → through the air 같은 거는 필요가 없어보이긴 하는데,,
```json
{
  "activities": [
    {
      "action_label": "Treadmill 1mph (0% grade)",
      "sub_actions": [
        {"Arm": "Wrist swings slightly forward with low amplitude", "Leg": "Heel contacts ground initiating slow step"},
        {"Arm": "Forearm passes alongside torso during forward swing", "Leg": "Body weight transfers to front foot"},
        {"Arm": "Wrist reaches furthest forward point before reversing", "Leg": "Rear leg begins lift-off"},
        {"Arm": "Wrist moves backward smoothly behind hip", "Leg": "Foot swings slowly forward through the air"},
        {"Arm": "Forearm returns to neutral beside torso", "Leg": "Foot approaches ground preparing for next contact"}
      ]
    },
    {
      "action_label": "Treadmill 3mph (0% grade)",
      "sub_actions": [
        {"Arm": "Wrist swings forward with moderate amplitude", "Leg": "Heel strikes treadmill surface"},
        {"Arm": "Forearm moves slightly inward during mid-swing", "Leg": "Weight shifts over stance leg"},
        {"Arm": "Wrist reaches forward-most point before reversing motion", "Leg": "Trailing leg lifts from ground"},
        {"Arm": "Wrist accelerates backward past hip", "Leg": "Swing leg passes under body"},
        {"Arm": "Forearm returns beside torso ready for next cycle", "Leg": "Swing foot prepares for heel strike"}
      ]
    },
    {
      "action_label": "Treadmill 3mph (5% grade)",
      "sub_actions": [
        {"Arm": "Wrist swings forward with slight upward bias for balance", "Leg": "Heel strikes inclined surface"},
        {"Arm": "Forearm flexes slightly upward during arm lift", "Leg": "Body pushes upward against incline"},
        {"Arm": "Wrist reaches apex of forward swing", "Leg": "Rear leg drives upward and forward"},
        {"Arm": "Forearm swings back with higher effort for stability", "Leg": "Swing leg lifts higher due to slope"},
        {"Arm": "Wrist returns near hip preparing for next cycle", "Leg": "Front leg absorbs contact energy on incline"}
      ]
    },
    {
      "action_label": "Treadmill 4mph (0% grade)",
      "sub_actions": [
        {"Arm": "Wrist rapidly swings forward", "Leg": "Heel strikes ground with increased impact"},
        {"Arm": "Forearm accelerates through mid-swing", "Leg": "Body propels forward over stance leg"},
        {"Arm": "Wrist reaches forward apex briefly", "Leg": "Rear foot lifts quickly from surface"},
        {"Arm": "Forearm swings backward with higher angular velocity", "Leg": "Swing leg passes rapidly beneath body"},
        {"Arm": "Forearm returns near neutral with rhythmic motion", "Leg": "Next heel prepares for strike"}
      ]
    },
    {
      "action_label": "Treadmill 6mph (0% grade)",
      "sub_actions": [
        {"Arm": "Wrist thrusts forward aggressively", "Leg": "Foot strikes forefoot-first due to jog pace"},
        {"Arm": "Forearm flexes and extends rapidly", "Leg": "Stance leg pushes body upward and forward"},
        {"Arm": "Wrist reverses swing direction at high speed", "Leg": "Opposite leg drives forward in midair"},
        {"Arm": "Wrist moves back behind torso powerfully", "Leg": "Swing leg lands, absorbing impact"},
        {"Arm": "Forearm resets quickly to front swing", "Leg": "Stride transitions to next running phase"}
      ]
    },
    {
      "action_label": "Treadmill 6mph (5% grade)",
      "sub_actions": [
        {"Arm": "Wrist swings forward upwardly with strong momentum", "Leg": "Forefoot contacts incline with upward thrust"},
        {"Arm": "Forearm flexes sharply to aid balance", "Leg": "Quadriceps engage during uphill push"},
        {"Arm": "Wrist transitions to backward swing", "Leg": "Rear leg drives upward for elevation"},
        {"Arm": "Forearm extends fully backward behind hip", "Leg": "Front leg stabilizes landing on slope"},
        {"Arm": "Wrist resets forward rapidly", "Leg": "Stride transitions to next uphill push"}
      ]
    },
    {
      "action_label": "Seated-fold/stack laundry",
      "sub_actions": [
        {"Arm": "Wrist reaches forward to grasp fabric piece", "Leg": "Feet remain planted, knees flex slightly"},
        {"Arm": "Forearm lifts fabric upward toward chest", "Leg": "Lower body remains stable on seat"},
        {"Arm": "Wrist rotates to align fabric edges", "Leg": "Minimal leg movement for balance"},
        {"Arm": "Forearm presses fabric downward to fold", "Leg": "Feet apply light pressure for stability"},
        {"Arm": "Wrist moves aside to stack folded piece", "Leg": "Knees shift slightly maintaining seated balance"}
      ]
    },
    {
      "action_label": "Stand-fidget with hands",
      "sub_actions": [
        {"Arm": "Wrist rotates outward, fingers moving lightly", "Leg": "Body weight balanced evenly on both legs"},
        {"Arm": "Forearm bends and straightens idly", "Leg": "Small postural sways for balance"},
        {"Arm": "Wrist flicks or adjusts small movements", "Leg": "One leg bears more weight momentarily"},
        {"Arm": "Forearm twists inward briefly", "Leg": "Feet shift position slightly"},
        {"Arm": "Wrist settles momentarily at side", "Leg": "Posture resets to neutral stance"}
      ]
    },
    {
      "action_label": "1 min brush teeth/hair",
      "sub_actions": [
        {"Arm": "Wrist lifts tool toward mouth or head", "Leg": "Body stable with equal weight on both feet"},
        {"Arm": "Forearm performs repetitive short strokes", "Leg": "Minor knee flexion for balance"},
        {"Arm": "Wrist rotates slightly to change direction", "Leg": "Posture shifts slightly with upper motion"},
        {"Arm": "Forearm returns partially to starting angle", "Leg": "Feet reposition for balance"},
        {"Arm": "Wrist lowers tool to neutral position", "Leg": "Body returns to upright stable posture"}
      ]
    },
    {
      "action_label": "Drive car",
      "sub_actions": [
        {"Arm": "Wrist grips steering wheel at base position", "Leg": "Right foot rests lightly on accelerator"},
        {"Arm": "Forearm rotates slightly to adjust steering", "Leg": "Foot maintains steady pressure"},
        {"Arm": "Wrist lifts slightly to turn wheel", "Leg": "Foot alternates between accelerator and brake"},
        {"Arm": "Forearm moves inward completing steering motion", "Leg": "Left foot adjusts for clutch or rest"},
        {"Arm": "Wrist returns to neutral on wheel", "Leg": "Feet stabilize as car moves straight"}
      ]
    },
    {
      "action_label": "Hard surface walk",
      "sub_actions": [
        {"Arm": "Wrist swings forward naturally", "Leg": "Heel strikes hard floor creating firm impact"},
        {"Arm": "Forearm transitions through mid-swing", "Leg": "Weight transfers smoothly to stance leg"},
        {"Arm": "Wrist reverses to backward swing", "Leg": "Trailing foot lifts from surface"},
        {"Arm": "Forearm passes hip moving backward", "Leg": "Swing leg advances forward"},
        {"Arm": "Wrist returns to neutral beside torso", "Leg": "Swing foot contacts ground beginning new step"}
      ]
    },
    {
      "action_label": "Carpet with high heels/dress shoes",
      "sub_actions": [
        {"Arm": "Wrist swings forward gently", "Leg": "Heel carefully strikes soft surface"},
        {"Arm": "Forearm stabilizes to aid balance", "Leg": "Body shifts cautiously to front foot"},
        {"Arm": "Wrist pauses at forward limit", "Leg": "Rear leg lifts delicately"},
        {"Arm": "Forearm swings backward slower for control", "Leg": "Swing leg moves smoothly forward"},
        {"Arm": "Wrist returns to resting position", "Leg": "Front foot lands softly with careful balance"}
      ]
    },
    {
      "action_label": "Walk up-stairs 5 floors",
      "sub_actions": [
        {"Arm": "Wrist swings upward to counterbalance lift", "Leg": "Lead foot plants on next step"},
        {"Arm": "Forearm extends upward slightly", "Leg": "Rear leg pushes off strongly"},
        {"Arm": "Wrist moves backward for coordination", "Leg": "Body lifts upward to next stair"},
        {"Arm": "Forearm returns near torso during rise", "Leg": "Front leg stabilizes on step"},
        {"Arm": "Wrist resets forward for next ascent", "Leg": "Rear leg swings up to next step"}
      ]
    },
    {
      "action_label": "Walk down-stairs 5 floors",
      "sub_actions": [
        {"Arm": "Wrist swings forward gently for balance", "Leg": "Lead foot lowers toward next step"},
        {"Arm": "Forearm flexes slightly upward", "Leg": "Foot lands, absorbing impact"},
        {"Arm": "Wrist moves backward briefly", "Leg": "Rear leg follows descending motion"},
        {"Arm": "Forearm extends downward with balance correction", "Leg": "Front leg stabilizes on lower step"},
        {"Arm": "Wrist returns to neutral position", "Leg": "Rear leg transitions to next downward step"}
      ]
    }
  ]
}

```
- 2~3개의 단어로 줄여달라고 했더니, 비슷한 Action끼리 약간씩 달랐던 그런게 사라져서 위의 것으로 일단 해보려고 합니다..



## 3Teacher 논문 진행상황(주말에 조금 할 예정..)
### 그림 고치기.
- Confusion Matrix에 글꼴 통일(아랫첨자로 수정) (완)
- 큰 히스토그램 (GENE에서 2Teacher WRN다른거) 글씨크기 키우기 (완)

### Discussion & Conclusion Part
- Discussion은 작성을 하긴 했는데, 더 다듬고, 내용도 좀 바꾸거나 해야 할 것으로 보입니다.

### 논문 해야할 남은 것.
- 수정된 것들에 대해서 추가작성 혹은 수정 필요. → 그림 바뀌면 내용도 달라져야해
- 2Teacher WRN 다른거 표에서 그림으로 바뀌어서 이거 수정 필요.
- SP Maps들 비교하는거 Table은 넣었는데, 그거에 맞춰서 SP Map visualization 파트 수정 필요.
- 3Teacher WRN 다른거 GENEActiv + PAMAP2로 합쳐야 하는데 아직 못함.
- Discussion 좀 더 잘 쓰고 싶은데, 부족한듯 + Conclusion도 써야함.
- Reference 달면서 글 내용/일관성 맞춰야 함.

### 해야 할 것들..
- VQShape - 1 → 해야할 거 위에 정리 → 코드작성 맛보기 + 좋은 Prompt를 출력하기 위한 방법 + 정량적 평가가 가능할지 (이번주까지 뽑아보고, 다음주에 코드작업 시작해보자.)
- 토익 - 3 → 매일 최대한 LC 한파트 및 RC 1개
- 3Teacher - 3 → 해야할 것 정리해놓은거 기반으로 조금씩이라도..